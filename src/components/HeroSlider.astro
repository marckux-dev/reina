---
import { Swiper, SwiperWrapper, SwiperSlide } from 'astro-swiper';
import { Image } from 'astro:assets';

interface Props {
  images: string[];
  interval?: number;
  showText?: boolean;
}

const { images, interval = 3000, showText = true } = Astro.props;

const imageModules = await Promise.all(
  images.map( async (image) => {
    const mod = await import(`../assets/images/${image}`);
    return mod.default;
  })
);
---

<Swiper
  class="absolute inset-0 w-full h-full"
  options={{    // check options at https://swiperjs.com/swiper-api
    autoplay: {
      delay: interval,
           disableOnInteraction: false,
      //     waitForTransition: false,
    },
    loop: true,
  }}>
  <SwiperWrapper>
    {
    imageModules.map( image => (
    <SwiperSlide class="w-full h-full">
      <Image
        src={ image }
        alt={`Imagen del Hero Slider`}
        format="webp"
        loading="lazy"
        class="kenburns h-full w-full object-cover select-none"
      />
    </SwiperSlide>
      
    ))
    }
  </SwiperWrapper>
</Swiper>

<style>
  img {
    display: block;
    width: 125%;
    height: 100%;
    object-fit: cover;
  }
</style>

