---
import { getImage } from 'astro:assets';
import ContactButton from '../components/ContactButton.astro';
interface Props {
  image: string;
  slogan: string;
  buttonText?: string;
  buttonLink?: string;
}

const {
  image,
  slogan,
} = Astro.props;

const imagesMap = import.meta.glob('../assets/images/*.{png,jpg,jpeg,webp,avif}', {
  eager: true,
  import: 'default',
});
const original = imagesMap[`../assets/images/${image}`];
const optimized = await getImage({
  src: original,
  formats: ['webp'],
  widths: [800, 1200, 1600, 2000],
});
---

<section
  class="relative h-[40vh] bg-fixed bg-center bg-cover flex flex-col items-center justify-center text-center text-neutral-content"
  style={`background-image: url( '${optimized.src}' )`}
>
  <!-- Capa oscura -->
  <div class="absolute inset-0 bg-black/60"></div>

  <!-- Contenido -->
  <div class="relative z-10 px-6">
    <h2 class="text-3xl md:text-5xl font-bold mb-8 drop-shadow-lg">
      {slogan}
    </h2>
    <ContactButton
      link="/contacto"
      text="ContÃ¡ctanos"
    />
  </div>
</section>

